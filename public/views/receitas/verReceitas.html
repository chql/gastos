<body>
    <div class="container" ng-controller="verReceitas">
        <div class="row">
            <div class="col s12 l12"><h3 class="center">Receitas</h3></div>
        </div>
        <div class="col s4 m2 right">
            <a class="btn-floating waves-effect waves-light red">
                <i ng-click="clean()" data-target="cadReceita" class="modal-trigger material-icons">add</i>
            </a>
        </div>
        <h5 class="center" ng-if="dados.length === 0">Não há receitas cadastradas!</h5>
        <table class="highlight responsible-table" ng-if="dados.length > 0">
            <thead>
                <tr>
                    <th>Origem</th>
                    <th>Valor</th>
                    <th>Data</th>
                    <th>Editar</th>
                    <th>Remover</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="r in dados">
                    <td>{{r.origem}}</td>
                    <td>{{r.valor}}</td>
                    <td>{{r.data}}</td>
                    <td><i class="material-icons mao modal-trigger" data-target="cadReceita" ng-click="edit(r._id)">edit</i></td>
                    <td><i class="material-icons mao" ng-click="remove(r._id)">delete</i></td>
                </tr>
            </tbody>
        </table>
        <div class="row">
            <div class="col s6 l6"><h5 class="center">Referência:<br/>{{referencia}}</h5></div>
            <div class="col s6 l6"><h5 class="center">Total:<br/>{{soma}}</h5></div>
        </div>
    </div>
    <div class="modal" id="cadReceita" ng-form="receita" ng-controller="cadReceitas">
        <div class="modal-content">
            <div class="row">
                <div class="col s12 l12">
                    <h4 class="center">Receita</h4>
                </div>
            </div>
            <div class="row">
                <div class="col s12">
                    <div class="col m12 s12">
                        <label for="origem">Origem da receita: </label>
                        <input type="text" id="origem" class="validate" ng-model="origem" ng-required="true">
                    </div>
                    <div class="col m6 s12">
                        <label for="valor">Valor(R$):</label>
                        <input id="valor" onchange="decimal()" type="text" class="validate" ng-model="valor" ng-required="true">
                    </div>
                    <div class="col m6 s12">
                        <label for="data">Data: </label>
                        <input type="date" id="data" ng-model="data" ng-required="true">
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <div class="row">
                <div class="col s12">
                    <button ng-disabled="!receita.$valid" class="teal darken-4 btn waves-effect waves-light" type="submit" name="action" ng-click="cadReceita()">
                        Salvar
                        <i class="material-icons right">done</i>
                    </button>
                </div>
            </div>
        </div>
    </div>
    {{modal()}}
</body>